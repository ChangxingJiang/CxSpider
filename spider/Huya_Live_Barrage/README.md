# 虎牙直播弹幕爬虫文档

> 当前爬虫已失效！！！

**爬虫类型**：循环运行爬虫

**爬虫依赖第三方模块**：crawlertool、Selenium4R、bs4

**爬虫功能**：采集虎牙直播间弹幕中所有弹幕，依据不同类型的弹幕提取不同信息

使用Selenium打开虎牙直播间，通过浏览器不断将Js渲染后的网页源代码传给BeautifulSoup解析弹幕

**爬虫参数**：

| 参数名   | 参数功能                                        |
| -------- | ----------------------------------------------- |
| driver   | Selenium4R.Chrome浏览器对象                     |
| live_url | 直播间地址（形如：https://www.huya.com/102411） |
| interval | 每次循环的间隔时长（单位：秒）                  |

**爬虫返回结果数据**：

| 字段名     | 字段内容                                                     |
| ---------- | ------------------------------------------------------------ |
| bid        | 弹幕ID                                                       |
| type       | 弹幕类型：SG/NM=普通弹幕；NE=贵族进入弹幕；NS=贵族发言；SD=礼物赠送提示；TV=上电视弹幕；AS/SY=系统提示 |
| fetch_time | 弹幕采集时间：因弹幕为实时采集，因此也采集时间也可以作为弹幕发布时间使用 |
| user_name  | 弹幕发布者名称                                               |
| user_noble | 弹幕发布者贵族等级                                           |
| content    | 弹幕内容                                                     |
| gift_name  | 赠送礼物弹幕的礼物名称                                       |
| gift_num   | 赠送礼物弹幕的礼物数量                                       |
| other      | 弹幕的其他信息                                               |

**创建时间**：2019.11.24

**修改时间**：2020.12.28